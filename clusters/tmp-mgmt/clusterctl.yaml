apiVersion: clusterctl.cluster.x-k8s.io/v1alpha3
kind: ClusterctlConfig

# note that the following URLs are not valid URLs, they don't work even when allowing redirects, but
# this is how clusterctl expects them for some reason.
# `https://github.com/{owner}/{Repository}/releases/{latest%7Cversion-tag}/{componentsClient.yaml}`
# https://kubernetes.slack.com/archives/C8TSNPY4T/p1704227467512249

providers:
  - name: cluster-api
    type: CoreProvider
    url: "https://github.com/kubernetes-sigs/cluster-api/releases/v1.6.0/core-components.yaml"
  - name: kubeadm
    type: BootstrapProvider
    url: "https://github.com/kubernetes-sigs/cluster-api/releases/v1.6.0/bootstrap-components.yaml"
  - name: aws
    type: InfrastructureProvider
    url: "https://github.com/kubernetes-sigs/cluster-api-provider-aws/releases/v2.3.1/infrastructure-components.yaml"

variables:
  KUBERNETES_VERSION: "1.28.5"
  AWS_CONTROL_PLANE_MACHINE_TYPE: "t3.medium"
  AWS_NODE_MACHINE_TYPE: "t3.medium"
  CONTROL_PLANE_MACHINE_COUNT: "1"
  WORKER_MACHINE_COUNT: "1"
  CLUSTER_NAME: "cluster-mgmt"
  POD_CIDR: "192.168.16.0/20"
